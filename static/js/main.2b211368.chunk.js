(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{32:function(e,t,r){},57:function(e,t){},77:function(e,t,r){"use strict";r.r(t);var a=r(4),n=r(8),s=r(9),o=r(11),c=r(10),u=r(1),l=r.n(u),i=r(26),d=r.n(i),b=(r(32),r(27)),h=r.n(b);function f(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),a=[e[r],e[t]];e[t]=a[0],e[r]=a[1]}}var v=function(){for(var e=Array(9).fill(0).map((function(){return Array(9).fill("")})),t=[1,2,3,4,5,6,7,8,9],r=0;r<9;r+=3){f(t);for(var a=0,n=r;n<r+3;n++)for(var s=r;s<r+3;s++)e[n][s]=t[a],a++}for(var o=e.map((function(e){return new Set(e)})),c=[],u=0;u<e.length;u++){for(var l=new Set,i=0;i<e.length;i++)l.add(e[i][u]);c.push(l)}for(var d={},b=0;b<e.length;b++)for(var h=0;h<e.length;h++){var v=3*Math.trunc(b/3)+Math.trunc(h/3);v in d||(d[v]=new Set),d[v].add(e[b][h])}var j=p({board:e,rows:o,cols:c,boxes:d});e=j.map((function(e){return e.map((function(e){return e}))}));for(var m=0,w=0;m<9&&w<9;){if((w+=Math.floor(4*Math.random()))>=9&&(w=0,++m>=9))break;var x=e[m][w];e[m][w]="",o[m].delete(x),c[w].delete(x),d[3*Math.trunc(m/3)+Math.trunc(w/3)].delete(x)}return{board:e,rows:o,cols:c,boxes:d,anwser:j}},p=function(e){var t=e.board,r=e.rows,a=e.cols,n=e.boxes,s=t.length;return function e(o,c){if(o===s-1&&c===s)return!0;if(c===s&&(c=0,o++),""!==t[o][c])return e(o,c+1);for(var u=3*Math.trunc(o/3)+Math.trunc(c/3),l=1;l<=9;l++)if(!r[o].has(l)&&!a[c].has(l)&&!n[u].has(l)){if(t[o][c]=l,r[o].add(l),a[c].add(l),n[u].add(l),e(o,c+1))return!0;t[o][c]="",r[o].delete(l),a[c].delete(l),n[u].delete(l)}return!1}(0,0),t},j=r(0);function m(e){return e.showAnwser?e.disabled?Object(j.jsx)("input",{className:"square",value:e.value,disabled:!0}):Object(j.jsx)("input",{style:{color:"#d74242"},className:"square",value:e.value,disabled:!0}):e.disabled?Object(j.jsx)("input",{className:"square",value:e.value,disabled:!0}):Object(j.jsx)("input",{className:"square",maxLength:"1",value:e.value,onChange:function(t){return e.onChange(t.target.value)},style:{color:"blue"}})}var w=function(e){Object(o.a)(r,e);var t=Object(c.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"renderSquare",value:function(e,t,r){var a=this,n=""!==this.props.startBoard[t][r];return Object(j.jsx)(m,{value:e,disabled:n,showAnwser:this.props.showAnwser,onChange:function(e){return a.props.onChange(e,t,r)}},"".concat(t,",").concat(r))}},{key:"render",value:function(){var e=this,t=this.props.board;return Object(j.jsx)("div",{className:"board",children:t.map((function(t,r){return Object(j.jsx)("div",{className:"board-row",children:t.map((function(t,a){return e.renderSquare(t,r,a)}))},r)}))})}}]),r}(l.a.Component),x=function(e){Object(o.a)(r,e);var t=Object(c.a)(r);function r(e){var a;Object(n.a)(this,r),(a=t.call(this,e)).handleChange=function(e,t,r){var n;if(!/[1-9]/.test(e))return n="key ".concat(y(e.toUpperCase())," is pressed, expect key 1 to 9"),void a.setState({status:n});var s=a.state.history,o=s[s.length-1],c=3*Math.trunc(t/3)+Math.trunc(r/3);if(e=parseInt(e),o.rows[t].has(e))return n="cannot place ".concat(y(e)," in board row ").concat(y(t+1)),void a.setState({status:n});if(o.cols[r].has(e))return n="cannot place ".concat(y(e)," in board column ").concat(y(r+1)),void a.setState({status:n});if(o.boxes[c].has(e))return n="cannot place ".concat(y(e)," in board row ").concat(y(t+1),", column ").concat(y(r+1)),void a.setState({status:n});o=(s=a.state.history.slice(0,a.state.stepNumber+1))[s.length-1];var u=O(o),l=u.board,i=u.rows,d=u.cols,b=u.boxes,h=o.lastNumbers.map((function(e){return e.map((function(e){return e}))})),f=h[r][t];f&&(i[t].delete(f),d[r].delete(f),b[c].delete(f)),l[t][r]=e,i[t].add(e),d[r].add(e),b[c].add(e),h[r][t]=e,a.setState({history:s.concat([{board:l,rows:i,cols:d,boxes:b,lastNumbers:h}]),stepNumber:s.length,status:""})};var s=v(),o=s.board,c=s.rows,u=s.cols,l=s.boxes,i=s.anwser,d=Array(o.length).fill(0).map((function(){return Array(9).fill(null)}));return a.state={history:[{board:o,rows:c,cols:u,boxes:l,lastNumbers:d}],stepNumber:0,status:"",solved:{diaplay:!1,anwser:i}},a}return Object(s.a)(r,[{key:"jumpTo",value:function(e){this.setState({stepNumber:e,solved:Object(a.a)(Object(a.a)({},this.state.solved),{},{display:!1})})}},{key:"handleClickNewBoard",value:function(){var e=v(),t=e.board,r=e.rows,a=e.cols,n=e.boxes,s=e.anwser;this.setState({history:[{board:t,rows:r,cols:a,boxes:n}],stepNumber:0,status:"",solved:{diaplay:!1,anwser:s}})}},{key:"handleClickShowAnswer",value:function(){var e=this.state.solved;this.setState({solved:Object(a.a)(Object(a.a)({},e),{},{display:!0})})}},{key:"render",value:function(){var e=this,t=this.state.status,r=this.state.history,a=this.state.solved,n=a.display?{board:a.anwser,rows:null,cols:null,boxes:null}:r[this.state.stepNumber],s=r.map((function(t,r){var a=r?"Go to move #"+r:"Go to game start";return Object(j.jsx)("li",{children:Object(j.jsx)("button",{onClick:function(){return e.jumpTo(r)},children:a})},r)}));return Object(j.jsxs)("div",{className:"game",children:[Object(j.jsx)("div",{className:"game-board",children:Object(j.jsx)(w,{startBoard:this.state.history[0].board,showAnwser:a.display,board:n.board,rows:n.rows,cols:n.cols,boxes:n.boxes,onChange:function(t,r,a){return e.handleChange(t,r,a)}})}),Object(j.jsxs)("div",{className:"game-info",children:[Object(j.jsxs)("div",{children:["Sudoku Game ",Object(j.jsx)("span",{children:Object(j.jsx)("button",{onClick:function(){return e.handleClickNewBoard()},children:"New board"})})," ",Object(j.jsx)("span",{children:Object(j.jsx)("button",{onClick:function(){return e.handleClickShowAnswer()},children:"Show anwser"})})]}),Object(j.jsx)("div",{children:h()(t)}),Object(j.jsx)("ol",{children:s})]})]})}}]),r}(l.a.Component),O=function(e){var t=e.board.map((function(e){return e.map((function(e){return e}))})),r=e.rows.map((function(e){return new Set(e)})),a=e.cols.map((function(e){return new Set(e)})),n={};for(var s in e.boxes)n[s]=new Set(e.boxes[s]);return{board:t,rows:r,cols:a,boxes:n}},y=function(e){return'<strong style="color:#d74242">'.concat(e,"</strong>")};d.a.render(Object(j.jsx)(x,{}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.2b211368.chunk.js.map